{"version":3,"file":"mql.js","sources":["../node_modules/mimic-fn/index.js","../node_modules/whoops/lib/helpers.js","../node_modules/whoops/lib/add-error-props.js","../node_modules/whoops/lib/create-extend-error.js","../node_modules/whoops/lib/create-error.js","../node_modules/whoops/lib/index.js","../node_modules/qss/dist/qss.m.js","../node_modules/is-url-http/index.js","../node_modules/ky/umd.js","../src/ky-umd.js","../node_modules/is-buffer/index.js","../node_modules/flat/index.js","../src/factory.js","../src/browser.js"],"sourcesContent":["'use strict';\n\nconst mimicFn = (to, from) => {\n\tfor (const prop of Reflect.ownKeys(from)) {\n\t\tObject.defineProperty(to, prop, Object.getOwnPropertyDescriptor(from, prop));\n\t}\n\n\treturn to;\n};\n\nmodule.exports = mimicFn;\nmodule.exports.default = mimicFn;\n","'use strict'\n\nmodule.exports = {\n  isFunction: obj => typeof obj === 'function',\n  isString: obj => typeof obj === 'string',\n  composeErrorMessage: (code, description) => `${code}, ${description}`,\n  inherits: (ctor, superCtor) => {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    })\n  }\n}\n","'use strict'\n\nconst {isFunction, composeErrorMessage} = require('./helpers')\n\nfunction interfaceObject (error, ...props) {\n  Object.assign(error, ...props)\n\n  error.description = isFunction(error.message) ? error.message(error) : error.message\n\n  error.message = error.code\n   ? composeErrorMessage(error.code, error.description)\n   : error.description\n}\n\nmodule.exports = interfaceObject\n","'use strict'\n\nconst cleanStack = require('clean-stack')\nconst mimicFn = require('mimic-fn')\n\nconst addErrorProps = require('./add-error-props')\nconst {isString} = require('./helpers')\n\nfunction createExtendError (ErrorClass, classProps) {\n  function ExtendError (props) {\n    const error = new ErrorClass()\n    const errorProps = isString(props) ? {message: props} : props\n    addErrorProps(error, classProps, errorProps)\n\n    error.stack = cleanStack(error.stack)\n    return error\n  }\n\n  ExtendError.prototype = ErrorClass.prototype\n  mimicFn(ExtendError, ErrorClass)\n\n  return ExtendError\n}\n\nmodule.exports = createExtendError\n","'use strict'\n\nconst {inherits} = require('./helpers')\nconst mimicFn = require('mimic-fn')\n\nconst REGEX_CLASS_NAME = /[^0-9a-zA-Z_$]/\n\nfunction createError (className) {\n  if (typeof className !== 'string') {\n    throw new TypeError('Expected className to be a string')\n  }\n\n  if (REGEX_CLASS_NAME.test(className)) {\n    throw new Error('className contains invalid characters')\n  }\n\n  function ErrorClass () {\n    Object.defineProperty(this, 'name', {\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    Error.captureStackTrace(this, this.constructor)\n  }\n\n  inherits(ErrorClass, Error)\n  mimicFn(ErrorClass, Error)\n  return ErrorClass\n}\n\nmodule.exports = createError\n","'use strict'\n\nconst createExtendError = require('./create-extend-error')\nconst createError = require('./create-error')\n\nconst createErrorClass = ErrorClass => (className, props) => {\n  const errorClass = createError(className || ErrorClass.name)\n  return createExtendError(errorClass, props)\n}\n\nmodule.exports = createErrorClass(Error)\nmodule.exports.type = createErrorClass(TypeError)\nmodule.exports.range = createErrorClass(RangeError)\nmodule.exports.eval = createErrorClass(EvalError)\nmodule.exports.syntax = createErrorClass(SyntaxError)\nmodule.exports.reference = createErrorClass(ReferenceError)\nmodule.exports.uri = createErrorClass(URIError)\n","export function encode(obj, pfx) {\n\tvar k, i, tmp, str='';\n\n\tfor (k in obj) {\n\t\tif ((tmp = obj[k]) !== void 0) {\n\t\t\tif (Array.isArray(tmp)) {\n\t\t\t\tfor (i=0; i < tmp.length; i++) {\n\t\t\t\t\tstr && (str += '&');\n\t\t\t\t\tstr += encodeURIComponent(k) + '=' + encodeURIComponent(tmp[i]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstr && (str += '&');\n\t\t\t\tstr += encodeURIComponent(k) + '=' + encodeURIComponent(tmp);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (pfx || '') + str;\n}\n\nfunction toValue(mix) {\n\tif (!mix) return '';\n\tvar str = decodeURIComponent(mix);\n\tif (str === 'false') return false;\n\tif (str === 'true') return true;\n\treturn (+str * 0 === 0) ? (+str) : str;\n}\n\nexport function decode(str) {\n\tvar tmp, k, out={}, arr=str.split('&');\n\n\twhile (tmp = arr.shift()) {\n\t\ttmp = tmp.split('=');\n\t\tk = tmp.shift();\n\t\tif (out[k] !== void 0) {\n\t\t\tout[k] = [].concat(out[k], toValue(tmp.shift()));\n\t\t} else {\n\t\t\tout[k] = toValue(tmp.shift());\n\t\t}\n\t}\n\n\treturn out;\n}\n","'use strict'\n\nconst URL = global.window ? window.URL : require('url').URL\n\nconst REGEX_HTTP_PROTOCOL = /^https?:\\/\\//i\n\nmodule.exports = url => {\n  try {\n    return new URL(url) && REGEX_HTTP_PROTOCOL.test(url)\n  } catch (err) {\n    return false\n  }\n}\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(global = global || self, factory(global.ky = {}));\n}(this, function (exports) { 'use strict';\n\n\t/*! MIT License Â© Sindre Sorhus */\n\n\tconst getGlobal = property => {\n\t\t/* istanbul ignore next */\n\t\tif (typeof self !== 'undefined' && self && property in self) {\n\t\t\treturn self[property];\n\t\t}\n\n\t\t/* istanbul ignore next */\n\t\tif (typeof window !== 'undefined' && window && property in window) {\n\t\t\treturn window[property];\n\t\t}\n\n\t\tif (typeof global !== 'undefined' && global && property in global) {\n\t\t\treturn global[property];\n\t\t}\n\n\t\t/* istanbul ignore next */\n\t\tif (typeof globalThis !== 'undefined' && globalThis) {\n\t\t\treturn globalThis[property];\n\t\t}\n\t};\n\n\tconst document = getGlobal('document');\n\tconst Headers = getGlobal('Headers');\n\tconst Response = getGlobal('Response');\n\tconst fetch = getGlobal('fetch');\n\tconst AbortController = getGlobal('AbortController');\n\n\tconst isObject = value => value !== null && typeof value === 'object';\n\tconst supportsAbortController = typeof getGlobal('AbortController') === 'function';\n\n\tconst deepMerge = (...sources) => {\n\t\tlet returnValue = {};\n\n\t\tfor (const source of sources) {\n\t\t\tif (Array.isArray(source)) {\n\t\t\t\tif (!(Array.isArray(returnValue))) {\n\t\t\t\t\treturnValue = [];\n\t\t\t\t}\n\n\t\t\t\treturnValue = [...returnValue, ...source];\n\t\t\t} else if (isObject(source)) {\n\t\t\t\tfor (let [key, value] of Object.entries(source)) {\n\t\t\t\t\tif (isObject(value) && Reflect.has(returnValue, key)) {\n\t\t\t\t\t\tvalue = deepMerge(returnValue[key], value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturnValue = {...returnValue, [key]: value};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn returnValue;\n\t};\n\n\tconst requestMethods = [\n\t\t'get',\n\t\t'post',\n\t\t'put',\n\t\t'patch',\n\t\t'head',\n\t\t'delete'\n\t];\n\n\tconst responseTypes = {\n\t\tjson: 'application/json',\n\t\ttext: 'text/*',\n\t\tformData: 'multipart/form-data',\n\t\tarrayBuffer: '*/*',\n\t\tblob: '*/*'\n\t};\n\n\tconst retryMethods = new Set([\n\t\t'get',\n\t\t'put',\n\t\t'head',\n\t\t'delete',\n\t\t'options',\n\t\t'trace'\n\t]);\n\n\tconst retryStatusCodes = new Set([\n\t\t408,\n\t\t413,\n\t\t429,\n\t\t500,\n\t\t502,\n\t\t503,\n\t\t504\n\t]);\n\n\tconst retryAfterStatusCodes = new Set([\n\t\t413,\n\t\t429,\n\t\t503\n\t]);\n\n\tclass HTTPError extends Error {\n\t\tconstructor(response) {\n\t\t\tsuper(response.statusText);\n\t\t\tthis.name = 'HTTPError';\n\t\t\tthis.response = response;\n\t\t}\n\t}\n\n\tclass TimeoutError extends Error {\n\t\tconstructor() {\n\t\t\tsuper('Request timed out');\n\t\t\tthis.name = 'TimeoutError';\n\t\t}\n\t}\n\n\tconst delay = ms => new Promise(resolve => setTimeout(resolve, ms));\n\n\t// `Promise.race()` workaround (#91)\n\tconst timeout = (promise, ms, abortController) => new Promise((resolve, reject) => {\n\t\t/* eslint-disable promise/prefer-await-to-then */\n\t\tpromise.then(resolve).catch(reject);\n\t\tdelay(ms).then(() => {\n\t\t\tif (supportsAbortController) {\n\t\t\t\tabortController.abort();\n\t\t\t}\n\n\t\t\treject(new TimeoutError());\n\t\t});\n\t\t/* eslint-enable promise/prefer-await-to-then */\n\t});\n\n\tconst normalizeRequestMethod = input => requestMethods.includes(input) ? input.toUpperCase() : input;\n\n\tclass Ky {\n\t\tconstructor(input, {\n\t\t\ttimeout = 10000,\n\t\t\thooks,\n\t\t\tthrowHttpErrors = true,\n\t\t\tsearchParams,\n\t\t\tjson,\n\t\t\t...otherOptions\n\t\t}) {\n\t\t\tthis._retryCount = 0;\n\n\t\t\tthis._options = {\n\t\t\t\tmethod: 'get',\n\t\t\t\tcredentials: 'same-origin', // TODO: This can be removed when the spec change is implemented in all browsers. Context: https://www.chromestatus.com/feature/4539473312350208\n\t\t\t\tretry: 2,\n\t\t\t\t...otherOptions\n\t\t\t};\n\n\t\t\tif (supportsAbortController) {\n\t\t\t\tthis.abortController = new AbortController();\n\t\t\t\tif (this._options.signal) {\n\t\t\t\t\tthis._options.signal.addEventListener('abort', () => {\n\t\t\t\t\t\tthis.abortController.abort();\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis._options.signal = this.abortController.signal;\n\t\t\t}\n\n\t\t\tthis._options.method = normalizeRequestMethod(this._options.method);\n\t\t\tthis._options.prefixUrl = String(this._options.prefixUrl || '');\n\t\t\tthis._input = String(input || '');\n\n\t\t\tif (this._options.prefixUrl && this._input.startsWith('/')) {\n\t\t\t\tthrow new Error('`input` must not begin with a slash when using `prefixUrl`');\n\t\t\t}\n\n\t\t\tif (this._options.prefixUrl && !this._options.prefixUrl.endsWith('/')) {\n\t\t\t\tthis._options.prefixUrl += '/';\n\t\t\t}\n\n\t\t\tthis._input = this._options.prefixUrl + this._input;\n\n\t\t\tif (searchParams) {\n\t\t\t\tconst url = new URL(this._input, document && document.baseURI);\n\t\t\t\tif (typeof searchParams === 'string' || (URLSearchParams && searchParams instanceof URLSearchParams)) {\n\t\t\t\t\turl.search = searchParams;\n\t\t\t\t} else if (Object.values(searchParams).every(param => typeof param === 'number' || typeof param === 'string')) {\n\t\t\t\t\turl.search = new URLSearchParams(searchParams).toString();\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('The `searchParams` option must be either a string, `URLSearchParams` instance or an object with string and number values');\n\t\t\t\t}\n\n\t\t\t\tthis._input = url.toString();\n\t\t\t}\n\n\t\t\tthis._timeout = timeout;\n\t\t\tthis._hooks = deepMerge({\n\t\t\t\tbeforeRequest: [],\n\t\t\t\tafterResponse: []\n\t\t\t}, hooks);\n\t\t\tthis._throwHttpErrors = throwHttpErrors;\n\n\t\t\tconst headers = new Headers(this._options.headers || {});\n\n\t\t\tif (json) {\n\t\t\t\tif (this._options.body) {\n\t\t\t\t\tthrow new Error('The `json` option cannot be used with the `body` option');\n\t\t\t\t}\n\n\t\t\t\theaders.set('content-type', 'application/json');\n\t\t\t\tthis._options.body = JSON.stringify(json);\n\t\t\t}\n\n\t\t\tthis._options.headers = headers;\n\n\t\t\tconst fn = async () => {\n\t\t\t\tawait delay(1);\n\t\t\t\tlet response = await this._fetch();\n\n\t\t\t\tfor (const hook of this._hooks.afterResponse) {\n\t\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\t\tconst modifiedResponse = await hook(response.clone());\n\n\t\t\t\t\tif (modifiedResponse instanceof Response) {\n\t\t\t\t\t\tresponse = modifiedResponse;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!response.ok && this._throwHttpErrors) {\n\t\t\t\t\tthrow new HTTPError(response);\n\t\t\t\t}\n\n\t\t\t\treturn response;\n\t\t\t};\n\n\t\t\tconst isRetriableMethod = retryMethods.has(this._options.method.toLowerCase());\n\t\t\tconst result = isRetriableMethod ? this._retry(fn) : fn();\n\n\t\t\tfor (const [type, mimeType] of Object.entries(responseTypes)) {\n\t\t\t\tresult[type] = async () => {\n\t\t\t\t\theaders.set('accept', mimeType);\n\t\t\t\t\treturn (await result).clone()[type]();\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t_calculateRetryDelay(error) {\n\t\t\tthis._retryCount++;\n\n\t\t\tif (this._retryCount < this._options.retry && !(error instanceof TimeoutError)) {\n\t\t\t\tif (error instanceof HTTPError) {\n\t\t\t\t\tif (!retryStatusCodes.has(error.response.status)) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst retryAfter = error.response.headers.get('Retry-After');\n\t\t\t\t\tif (retryAfter && retryAfterStatusCodes.has(error.response.status)) {\n\t\t\t\t\t\tlet after = Number(retryAfter);\n\t\t\t\t\t\tif (Number.isNaN(after)) {\n\t\t\t\t\t\t\tafter = Date.parse(retryAfter) - Date.now();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tafter *= 1000;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn after;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (error.response.status === 413) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst BACKOFF_FACTOR = 0.3;\n\t\t\t\treturn BACKOFF_FACTOR * (2 ** (this._retryCount - 1)) * 1000;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tasync _retry(fn) {\n\t\t\ttry {\n\t\t\t\treturn await fn();\n\t\t\t} catch (error) {\n\t\t\t\tconst ms = this._calculateRetryDelay(error);\n\t\t\t\tif (ms !== 0 && this._retryCount > 0) {\n\t\t\t\t\tawait delay(ms);\n\t\t\t\t\treturn this._retry(fn);\n\t\t\t\t}\n\n\t\t\t\tif (this._throwHttpErrors) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync _fetch() {\n\t\t\tfor (const hook of this._hooks.beforeRequest) {\n\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\tawait hook(this._options);\n\t\t\t}\n\n\t\t\treturn timeout(fetch(this._input, this._options), this._timeout, this.abortController);\n\t\t}\n\t}\n\n\tconst createInstance = (defaults = {}) => {\n\t\tif (!isObject(defaults) || Array.isArray(defaults)) {\n\t\t\tthrow new TypeError('The `defaultOptions` argument must be an object');\n\t\t}\n\n\t\tconst ky = (input, options) => new Ky(input, deepMerge({}, defaults, options));\n\n\t\tfor (const method of requestMethods) {\n\t\t\tky[method] = (input, options) => new Ky(input, deepMerge({}, defaults, options, {method}));\n\t\t}\n\n\t\tky.extend = defaults => createInstance(defaults);\n\n\t\treturn ky;\n\t};\n\n\tvar index = createInstance();\n\n\texports.HTTPError = HTTPError;\n\texports.TimeoutError = TimeoutError;\n\texports.default = index;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","module.exports = require('ky/umd').default\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","var isBuffer = require('is-buffer')\n\nmodule.exports = flatten\nflatten.flatten = flatten\nflatten.unflatten = unflatten\n\nfunction flatten (target, opts) {\n  opts = opts || {}\n\n  var delimiter = opts.delimiter || '.'\n  var maxDepth = opts.maxDepth\n  var output = {}\n\n  function step (object, prev, currentDepth) {\n    currentDepth = currentDepth || 1\n    Object.keys(object).forEach(function (key) {\n      var value = object[key]\n      var isarray = opts.safe && Array.isArray(value)\n      var type = Object.prototype.toString.call(value)\n      var isbuffer = isBuffer(value)\n      var isobject = (\n        type === '[object Object]' ||\n        type === '[object Array]'\n      )\n\n      var newKey = prev\n        ? prev + delimiter + key\n        : key\n\n      if (!isarray && !isbuffer && isobject && Object.keys(value).length &&\n        (!opts.maxDepth || currentDepth < maxDepth)) {\n        return step(value, newKey, currentDepth + 1)\n      }\n\n      output[newKey] = value\n    })\n  }\n\n  step(target)\n\n  return output\n}\n\nfunction unflatten (target, opts) {\n  opts = opts || {}\n\n  var delimiter = opts.delimiter || '.'\n  var overwrite = opts.overwrite || false\n  var result = {}\n\n  var isbuffer = isBuffer(target)\n  if (isbuffer || Object.prototype.toString.call(target) !== '[object Object]') {\n    return target\n  }\n\n  // safely ensure that the key is\n  // an integer.\n  function getkey (key) {\n    var parsedKey = Number(key)\n\n    return (\n      isNaN(parsedKey) ||\n      key.indexOf('.') !== -1 ||\n      opts.object\n    ) ? key\n      : parsedKey\n  }\n\n  var sortedKeys = Object.keys(target).sort(function (keyA, keyB) {\n    return keyA.length - keyB.length\n  })\n\n  sortedKeys.forEach(function (key) {\n    var split = key.split(delimiter)\n    var key1 = getkey(split.shift())\n    var key2 = getkey(split[0])\n    var recipient = result\n\n    while (key2 !== undefined) {\n      var type = Object.prototype.toString.call(recipient[key1])\n      var isobject = (\n        type === '[object Object]' ||\n        type === '[object Array]'\n      )\n\n      // do not write over falsey, non-undefined values if overwrite is false\n      if (!overwrite && !isobject && typeof recipient[key1] !== 'undefined') {\n        return\n      }\n\n      if ((overwrite && !isobject) || (!overwrite && recipient[key1] == null)) {\n        recipient[key1] = (\n          typeof key2 === 'number' &&\n          !opts.object ? [] : {}\n        )\n      }\n\n      recipient = recipient[key1]\n      if (split.length > 0) {\n        key1 = getkey(split.shift())\n        key2 = getkey(split[0])\n      }\n    }\n\n    // unflatten again for 'messy objects'\n    recipient[key1] = unflatten(target[key], opts)\n  })\n\n  return result\n}\n","const ENDPOINT = {\n  FREE: 'https://api.microlink.io',\n  PRO: 'https://pro.microlink.io'\n}\n\nconst ERRORS_CODE = {\n  INVALID_URL: 'ENOVALIDURL',\n  FAILED: 'EFAILED'\n}\n\nfunction factory ({ VERSION, MicrolinkError, isUrlHttp, stringify, got, flatten }) {\n  const assertUrl = (url = '') => {\n    if (!isUrlHttp(url)) {\n      throw new MicrolinkError({\n        code: ERRORS_CODE.INVALID_URL,\n        message: `The URL \\`${url}\\` is not valid. Ensure it has protocol (http or https) and hostname.`\n      })\n    }\n  }\n\n  const mapRules = (rules = {}) => {\n    const flatRules = flatten(rules)\n    return Object.keys(flatRules).reduce(\n      (acc, key) => ({ ...acc, [`data.${key}`]: flatRules[key] }),\n      {}\n    )\n  }\n\n  const fetchFromApi = async (url, opts) => {\n    try {\n      const response = await got(url, opts)\n      const { body } = response\n      return { ...body, response }\n    } catch (err) {\n      const statusCode = err.statusCode || 500\n      const message = err.body ? err.body.message : err.message\n      const status = err.body ? err.body.status : 'fail'\n\n      throw MicrolinkError({\n        ...err,\n        status,\n        message,\n        statusCode,\n        code: ERRORS_CODE.FAILED\n      })\n    }\n  }\n\n  const apiUrl = (url, { rules, apiKey, ...opts } = {}) => {\n    const isPro = !!apiKey\n    const endpoint = ENDPOINT[isPro ? 'PRO' : 'FREE']\n    const apiUrl = `${endpoint}?${stringify({\n      url: url,\n      ...mapRules(rules),\n      ...opts\n    })}`\n\n    const headers = isPro ? { 'x-api-key': apiKey } : {}\n    return [apiUrl, { headers }]\n  }\n\n  const mql = async (\n    targetUrl,\n    { cache = null, retry = 3, timeout = 25000, ...opts } = {}\n  ) => {\n    assertUrl(targetUrl)\n    const [url, { headers }] = apiUrl(targetUrl, opts)\n    return fetchFromApi(url, { cache, retry, timeout, headers, json: true })\n  }\n\n  mql.MicrolinkError = MicrolinkError\n  mql.apiUrl = apiUrl\n  mql.mapRules = mapRules\n  mql.version = VERSION\n\n  return mql\n}\n\nmodule.exports = factory\n","const MicrolinkError = require('whoops')('MicrolinkError')\nconst { encode: stringify } = require('qss')\nconst isUrlHttp = require('is-url-http')\nconst ky = require('ky-universal')\nconst flatten = require('flat')\n\nconst factory = require('./factory')\n\n// TODO: `cache` is destructuring because is not supported on browser side yet.\n// TODO: `json` because always is the output serialized.\nconst got = async (url, { json, headers, cache, ...opts }) => {\n  try {\n    const response = await ky(url, opts)\n    const body = await response.json()\n    const { headers, status: statusCode, statusText: statusMessage } = response\n    return { url: response.url, body, headers, statusCode, statusMessage }\n  } catch (err) {\n    err.body = err.response ? await err.response.json() : ''\n    err.statusCode = err.response.status\n    err.headers = err.response.headers\n    throw err\n  }\n}\n\nconst browser = factory({\n  MicrolinkError,\n  isUrlHttp,\n  stringify,\n  got,\n  flatten,\n  VERSION: '__VERSION__'\n})\n\nmodule.exports = browser\n"],"names":["require$$0","mimicFn","createError","createExtendError","URL","global","this","require$$1","ky","factory","flatten"],"mappings":"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"}
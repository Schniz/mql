{"version":3,"file":"mql.min.js","sources":["../node_modules/mimic-fn/index.js","../node_modules/whoops/lib/helpers.js","../node_modules/whoops/lib/add-error-props.js","../node_modules/whoops/lib/create-extend-error.js","../node_modules/whoops/lib/create-error.js","../node_modules/whoops/lib/index.js","../node_modules/qss/dist/qss.m.js","../node_modules/is-url-http/index.js","../node_modules/ky/umd.js","../src/ky-umd.js","../node_modules/is-buffer/index.js","../node_modules/flat/index.js","../src/factory.js","../src/browser.js"],"sourcesContent":["'use strict';\n\nconst mimicFn = (to, from) => {\n\tfor (const prop of Reflect.ownKeys(from)) {\n\t\tObject.defineProperty(to, prop, Object.getOwnPropertyDescriptor(from, prop));\n\t}\n\n\treturn to;\n};\n\nmodule.exports = mimicFn;\nmodule.exports.default = mimicFn;\n","'use strict'\n\nmodule.exports = {\n  isFunction: obj => typeof obj === 'function',\n  isString: obj => typeof obj === 'string',\n  composeErrorMessage: (code, description) => `${code}, ${description}`,\n  inherits: (ctor, superCtor) => {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    })\n  }\n}\n","'use strict'\n\nconst {isFunction, composeErrorMessage} = require('./helpers')\n\nfunction interfaceObject (error, ...props) {\n  Object.assign(error, ...props)\n\n  error.description = isFunction(error.message) ? error.message(error) : error.message\n\n  error.message = error.code\n   ? composeErrorMessage(error.code, error.description)\n   : error.description\n}\n\nmodule.exports = interfaceObject\n","'use strict'\n\nconst cleanStack = require('clean-stack')\nconst mimicFn = require('mimic-fn')\n\nconst addErrorProps = require('./add-error-props')\nconst {isString} = require('./helpers')\n\nfunction createExtendError (ErrorClass, classProps) {\n  function ExtendError (props) {\n    const error = new ErrorClass()\n    const errorProps = isString(props) ? {message: props} : props\n    addErrorProps(error, classProps, errorProps)\n\n    error.stack = cleanStack(error.stack)\n    return error\n  }\n\n  ExtendError.prototype = ErrorClass.prototype\n  mimicFn(ExtendError, ErrorClass)\n\n  return ExtendError\n}\n\nmodule.exports = createExtendError\n","'use strict'\n\nconst {inherits} = require('./helpers')\nconst mimicFn = require('mimic-fn')\n\nconst REGEX_CLASS_NAME = /[^0-9a-zA-Z_$]/\n\nfunction createError (className) {\n  if (typeof className !== 'string') {\n    throw new TypeError('Expected className to be a string')\n  }\n\n  if (REGEX_CLASS_NAME.test(className)) {\n    throw new Error('className contains invalid characters')\n  }\n\n  function ErrorClass () {\n    Object.defineProperty(this, 'name', {\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    Error.captureStackTrace(this, this.constructor)\n  }\n\n  inherits(ErrorClass, Error)\n  mimicFn(ErrorClass, Error)\n  return ErrorClass\n}\n\nmodule.exports = createError\n","'use strict'\n\nconst createExtendError = require('./create-extend-error')\nconst createError = require('./create-error')\n\nconst createErrorClass = ErrorClass => (className, props) => {\n  const errorClass = createError(className || ErrorClass.name)\n  return createExtendError(errorClass, props)\n}\n\nmodule.exports = createErrorClass(Error)\nmodule.exports.type = createErrorClass(TypeError)\nmodule.exports.range = createErrorClass(RangeError)\nmodule.exports.eval = createErrorClass(EvalError)\nmodule.exports.syntax = createErrorClass(SyntaxError)\nmodule.exports.reference = createErrorClass(ReferenceError)\nmodule.exports.uri = createErrorClass(URIError)\n","export function encode(obj, pfx) {\n\tvar k, i, tmp, str='';\n\n\tfor (k in obj) {\n\t\tif ((tmp = obj[k]) !== void 0) {\n\t\t\tif (Array.isArray(tmp)) {\n\t\t\t\tfor (i=0; i < tmp.length; i++) {\n\t\t\t\t\tstr && (str += '&');\n\t\t\t\t\tstr += encodeURIComponent(k) + '=' + encodeURIComponent(tmp[i]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstr && (str += '&');\n\t\t\t\tstr += encodeURIComponent(k) + '=' + encodeURIComponent(tmp);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (pfx || '') + str;\n}\n\nfunction toValue(mix) {\n\tif (!mix) return '';\n\tvar str = decodeURIComponent(mix);\n\tif (str === 'false') return false;\n\tif (str === 'true') return true;\n\treturn (+str * 0 === 0) ? (+str) : str;\n}\n\nexport function decode(str) {\n\tvar tmp, k, out={}, arr=str.split('&');\n\n\twhile (tmp = arr.shift()) {\n\t\ttmp = tmp.split('=');\n\t\tk = tmp.shift();\n\t\tif (out[k] !== void 0) {\n\t\t\tout[k] = [].concat(out[k], toValue(tmp.shift()));\n\t\t} else {\n\t\t\tout[k] = toValue(tmp.shift());\n\t\t}\n\t}\n\n\treturn out;\n}\n","'use strict'\n\nconst URL = global.window ? window.URL : require('url').URL\n\nconst REGEX_HTTP_PROTOCOL = /^https?:\\/\\//i\n\nmodule.exports = url => {\n  try {\n    return new URL(url) && REGEX_HTTP_PROTOCOL.test(url)\n  } catch (err) {\n    return false\n  }\n}\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(global = global || self, factory(global.ky = {}));\n}(this, function (exports) { 'use strict';\n\n\t/*! MIT License Â© Sindre Sorhus */\n\n\tconst getGlobal = property => {\n\t\t/* istanbul ignore next */\n\t\tif (typeof self !== 'undefined' && self && property in self) {\n\t\t\treturn self[property];\n\t\t}\n\n\t\t/* istanbul ignore next */\n\t\tif (typeof window !== 'undefined' && window && property in window) {\n\t\t\treturn window[property];\n\t\t}\n\n\t\tif (typeof global !== 'undefined' && global && property in global) {\n\t\t\treturn global[property];\n\t\t}\n\n\t\t/* istanbul ignore next */\n\t\tif (typeof globalThis !== 'undefined' && globalThis) {\n\t\t\treturn globalThis[property];\n\t\t}\n\t};\n\n\tconst document = getGlobal('document');\n\tconst Headers = getGlobal('Headers');\n\tconst Response = getGlobal('Response');\n\tconst fetch = getGlobal('fetch');\n\tconst AbortController = getGlobal('AbortController');\n\n\tconst isObject = value => value !== null && typeof value === 'object';\n\tconst supportsAbortController = typeof getGlobal('AbortController') === 'function';\n\n\tconst deepMerge = (...sources) => {\n\t\tlet returnValue = {};\n\n\t\tfor (const source of sources) {\n\t\t\tif (Array.isArray(source)) {\n\t\t\t\tif (!(Array.isArray(returnValue))) {\n\t\t\t\t\treturnValue = [];\n\t\t\t\t}\n\n\t\t\t\treturnValue = [...returnValue, ...source];\n\t\t\t} else if (isObject(source)) {\n\t\t\t\tfor (let [key, value] of Object.entries(source)) {\n\t\t\t\t\tif (isObject(value) && Reflect.has(returnValue, key)) {\n\t\t\t\t\t\tvalue = deepMerge(returnValue[key], value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturnValue = {...returnValue, [key]: value};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn returnValue;\n\t};\n\n\tconst requestMethods = [\n\t\t'get',\n\t\t'post',\n\t\t'put',\n\t\t'patch',\n\t\t'head',\n\t\t'delete'\n\t];\n\n\tconst responseTypes = {\n\t\tjson: 'application/json',\n\t\ttext: 'text/*',\n\t\tformData: 'multipart/form-data',\n\t\tarrayBuffer: '*/*',\n\t\tblob: '*/*'\n\t};\n\n\tconst retryMethods = new Set([\n\t\t'get',\n\t\t'put',\n\t\t'head',\n\t\t'delete',\n\t\t'options',\n\t\t'trace'\n\t]);\n\n\tconst retryStatusCodes = new Set([\n\t\t408,\n\t\t413,\n\t\t429,\n\t\t500,\n\t\t502,\n\t\t503,\n\t\t504\n\t]);\n\n\tconst retryAfterStatusCodes = new Set([\n\t\t413,\n\t\t429,\n\t\t503\n\t]);\n\n\tclass HTTPError extends Error {\n\t\tconstructor(response) {\n\t\t\tsuper(response.statusText);\n\t\t\tthis.name = 'HTTPError';\n\t\t\tthis.response = response;\n\t\t}\n\t}\n\n\tclass TimeoutError extends Error {\n\t\tconstructor() {\n\t\t\tsuper('Request timed out');\n\t\t\tthis.name = 'TimeoutError';\n\t\t}\n\t}\n\n\tconst delay = ms => new Promise(resolve => setTimeout(resolve, ms));\n\n\t// `Promise.race()` workaround (#91)\n\tconst timeout = (promise, ms, abortController) => new Promise((resolve, reject) => {\n\t\t/* eslint-disable promise/prefer-await-to-then */\n\t\tpromise.then(resolve).catch(reject);\n\t\tdelay(ms).then(() => {\n\t\t\tif (supportsAbortController) {\n\t\t\t\tabortController.abort();\n\t\t\t}\n\n\t\t\treject(new TimeoutError());\n\t\t});\n\t\t/* eslint-enable promise/prefer-await-to-then */\n\t});\n\n\tconst normalizeRequestMethod = input => requestMethods.includes(input) ? input.toUpperCase() : input;\n\n\tclass Ky {\n\t\tconstructor(input, {\n\t\t\ttimeout = 10000,\n\t\t\thooks,\n\t\t\tthrowHttpErrors = true,\n\t\t\tsearchParams,\n\t\t\tjson,\n\t\t\t...otherOptions\n\t\t}) {\n\t\t\tthis._retryCount = 0;\n\n\t\t\tthis._options = {\n\t\t\t\tmethod: 'get',\n\t\t\t\tcredentials: 'same-origin', // TODO: This can be removed when the spec change is implemented in all browsers. Context: https://www.chromestatus.com/feature/4539473312350208\n\t\t\t\tretry: 2,\n\t\t\t\t...otherOptions\n\t\t\t};\n\n\t\t\tif (supportsAbortController) {\n\t\t\t\tthis.abortController = new AbortController();\n\t\t\t\tif (this._options.signal) {\n\t\t\t\t\tthis._options.signal.addEventListener('abort', () => {\n\t\t\t\t\t\tthis.abortController.abort();\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis._options.signal = this.abortController.signal;\n\t\t\t}\n\n\t\t\tthis._options.method = normalizeRequestMethod(this._options.method);\n\t\t\tthis._options.prefixUrl = String(this._options.prefixUrl || '');\n\t\t\tthis._input = String(input || '');\n\n\t\t\tif (this._options.prefixUrl && this._input.startsWith('/')) {\n\t\t\t\tthrow new Error('`input` must not begin with a slash when using `prefixUrl`');\n\t\t\t}\n\n\t\t\tif (this._options.prefixUrl && !this._options.prefixUrl.endsWith('/')) {\n\t\t\t\tthis._options.prefixUrl += '/';\n\t\t\t}\n\n\t\t\tthis._input = this._options.prefixUrl + this._input;\n\n\t\t\tif (searchParams) {\n\t\t\t\tconst url = new URL(this._input, document && document.baseURI);\n\t\t\t\tif (typeof searchParams === 'string' || (URLSearchParams && searchParams instanceof URLSearchParams)) {\n\t\t\t\t\turl.search = searchParams;\n\t\t\t\t} else if (Object.values(searchParams).every(param => typeof param === 'number' || typeof param === 'string')) {\n\t\t\t\t\turl.search = new URLSearchParams(searchParams).toString();\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('The `searchParams` option must be either a string, `URLSearchParams` instance or an object with string and number values');\n\t\t\t\t}\n\n\t\t\t\tthis._input = url.toString();\n\t\t\t}\n\n\t\t\tthis._timeout = timeout;\n\t\t\tthis._hooks = deepMerge({\n\t\t\t\tbeforeRequest: [],\n\t\t\t\tafterResponse: []\n\t\t\t}, hooks);\n\t\t\tthis._throwHttpErrors = throwHttpErrors;\n\n\t\t\tconst headers = new Headers(this._options.headers || {});\n\n\t\t\tif (json) {\n\t\t\t\tif (this._options.body) {\n\t\t\t\t\tthrow new Error('The `json` option cannot be used with the `body` option');\n\t\t\t\t}\n\n\t\t\t\theaders.set('content-type', 'application/json');\n\t\t\t\tthis._options.body = JSON.stringify(json);\n\t\t\t}\n\n\t\t\tthis._options.headers = headers;\n\n\t\t\tconst fn = async () => {\n\t\t\t\tawait delay(1);\n\t\t\t\tlet response = await this._fetch();\n\n\t\t\t\tfor (const hook of this._hooks.afterResponse) {\n\t\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\t\tconst modifiedResponse = await hook(response.clone());\n\n\t\t\t\t\tif (modifiedResponse instanceof Response) {\n\t\t\t\t\t\tresponse = modifiedResponse;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!response.ok && this._throwHttpErrors) {\n\t\t\t\t\tthrow new HTTPError(response);\n\t\t\t\t}\n\n\t\t\t\treturn response;\n\t\t\t};\n\n\t\t\tconst isRetriableMethod = retryMethods.has(this._options.method.toLowerCase());\n\t\t\tconst result = isRetriableMethod ? this._retry(fn) : fn();\n\n\t\t\tfor (const [type, mimeType] of Object.entries(responseTypes)) {\n\t\t\t\tresult[type] = async () => {\n\t\t\t\t\theaders.set('accept', mimeType);\n\t\t\t\t\treturn (await result).clone()[type]();\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t_calculateRetryDelay(error) {\n\t\t\tthis._retryCount++;\n\n\t\t\tif (this._retryCount < this._options.retry && !(error instanceof TimeoutError)) {\n\t\t\t\tif (error instanceof HTTPError) {\n\t\t\t\t\tif (!retryStatusCodes.has(error.response.status)) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst retryAfter = error.response.headers.get('Retry-After');\n\t\t\t\t\tif (retryAfter && retryAfterStatusCodes.has(error.response.status)) {\n\t\t\t\t\t\tlet after = Number(retryAfter);\n\t\t\t\t\t\tif (Number.isNaN(after)) {\n\t\t\t\t\t\t\tafter = Date.parse(retryAfter) - Date.now();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tafter *= 1000;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn after;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (error.response.status === 413) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst BACKOFF_FACTOR = 0.3;\n\t\t\t\treturn BACKOFF_FACTOR * (2 ** (this._retryCount - 1)) * 1000;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tasync _retry(fn) {\n\t\t\ttry {\n\t\t\t\treturn await fn();\n\t\t\t} catch (error) {\n\t\t\t\tconst ms = this._calculateRetryDelay(error);\n\t\t\t\tif (ms !== 0 && this._retryCount > 0) {\n\t\t\t\t\tawait delay(ms);\n\t\t\t\t\treturn this._retry(fn);\n\t\t\t\t}\n\n\t\t\t\tif (this._throwHttpErrors) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync _fetch() {\n\t\t\tfor (const hook of this._hooks.beforeRequest) {\n\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\tawait hook(this._options);\n\t\t\t}\n\n\t\t\treturn timeout(fetch(this._input, this._options), this._timeout, this.abortController);\n\t\t}\n\t}\n\n\tconst createInstance = (defaults = {}) => {\n\t\tif (!isObject(defaults) || Array.isArray(defaults)) {\n\t\t\tthrow new TypeError('The `defaultOptions` argument must be an object');\n\t\t}\n\n\t\tconst ky = (input, options) => new Ky(input, deepMerge({}, defaults, options));\n\n\t\tfor (const method of requestMethods) {\n\t\t\tky[method] = (input, options) => new Ky(input, deepMerge({}, defaults, options, {method}));\n\t\t}\n\n\t\tky.extend = defaults => createInstance(defaults);\n\n\t\treturn ky;\n\t};\n\n\tvar index = createInstance();\n\n\texports.HTTPError = HTTPError;\n\texports.TimeoutError = TimeoutError;\n\texports.default = index;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","module.exports = require('ky/umd').default\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","var isBuffer = require('is-buffer')\n\nmodule.exports = flatten\nflatten.flatten = flatten\nflatten.unflatten = unflatten\n\nfunction flatten (target, opts) {\n  opts = opts || {}\n\n  var delimiter = opts.delimiter || '.'\n  var maxDepth = opts.maxDepth\n  var output = {}\n\n  function step (object, prev, currentDepth) {\n    currentDepth = currentDepth || 1\n    Object.keys(object).forEach(function (key) {\n      var value = object[key]\n      var isarray = opts.safe && Array.isArray(value)\n      var type = Object.prototype.toString.call(value)\n      var isbuffer = isBuffer(value)\n      var isobject = (\n        type === '[object Object]' ||\n        type === '[object Array]'\n      )\n\n      var newKey = prev\n        ? prev + delimiter + key\n        : key\n\n      if (!isarray && !isbuffer && isobject && Object.keys(value).length &&\n        (!opts.maxDepth || currentDepth < maxDepth)) {\n        return step(value, newKey, currentDepth + 1)\n      }\n\n      output[newKey] = value\n    })\n  }\n\n  step(target)\n\n  return output\n}\n\nfunction unflatten (target, opts) {\n  opts = opts || {}\n\n  var delimiter = opts.delimiter || '.'\n  var overwrite = opts.overwrite || false\n  var result = {}\n\n  var isbuffer = isBuffer(target)\n  if (isbuffer || Object.prototype.toString.call(target) !== '[object Object]') {\n    return target\n  }\n\n  // safely ensure that the key is\n  // an integer.\n  function getkey (key) {\n    var parsedKey = Number(key)\n\n    return (\n      isNaN(parsedKey) ||\n      key.indexOf('.') !== -1 ||\n      opts.object\n    ) ? key\n      : parsedKey\n  }\n\n  var sortedKeys = Object.keys(target).sort(function (keyA, keyB) {\n    return keyA.length - keyB.length\n  })\n\n  sortedKeys.forEach(function (key) {\n    var split = key.split(delimiter)\n    var key1 = getkey(split.shift())\n    var key2 = getkey(split[0])\n    var recipient = result\n\n    while (key2 !== undefined) {\n      var type = Object.prototype.toString.call(recipient[key1])\n      var isobject = (\n        type === '[object Object]' ||\n        type === '[object Array]'\n      )\n\n      // do not write over falsey, non-undefined values if overwrite is false\n      if (!overwrite && !isobject && typeof recipient[key1] !== 'undefined') {\n        return\n      }\n\n      if ((overwrite && !isobject) || (!overwrite && recipient[key1] == null)) {\n        recipient[key1] = (\n          typeof key2 === 'number' &&\n          !opts.object ? [] : {}\n        )\n      }\n\n      recipient = recipient[key1]\n      if (split.length > 0) {\n        key1 = getkey(split.shift())\n        key2 = getkey(split[0])\n      }\n    }\n\n    // unflatten again for 'messy objects'\n    recipient[key1] = unflatten(target[key], opts)\n  })\n\n  return result\n}\n","const ENDPOINT = {\n  FREE: 'https://api.microlink.io',\n  PRO: 'https://pro.microlink.io'\n}\n\nconst ERRORS_CODE = {\n  INVALID_URL: 'ENOVALIDURL',\n  FAILED: 'EFAILED'\n}\n\nfunction factory ({ VERSION, MicrolinkError, isUrlHttp, stringify, got, flatten }) {\n  const assertUrl = (url = '') => {\n    if (!isUrlHttp(url)) {\n      throw new MicrolinkError({\n        code: ERRORS_CODE.INVALID_URL,\n        message: `The URL \\`${url}\\` is not valid. Ensure it has protocol (http or https) and hostname.`\n      })\n    }\n  }\n\n  const mapRules = (rules = {}) => {\n    const flatRules = flatten(rules)\n    return Object.keys(flatRules).reduce(\n      (acc, key) => ({ ...acc, [`data.${key}`]: flatRules[key] }),\n      {}\n    )\n  }\n\n  const fetchFromApi = async (url, opts) => {\n    try {\n      const response = await got(url, opts)\n      const { body } = response\n      return { ...body, response }\n    } catch (err) {\n      const statusCode = err.statusCode || 500\n      const message = err.body ? err.body.message : err.message\n      const status = err.body ? err.body.status : 'fail'\n\n      throw MicrolinkError({\n        ...err,\n        status,\n        message,\n        statusCode,\n        code: ERRORS_CODE.FAILED\n      })\n    }\n  }\n\n  const apiUrl = (url, { rules, apiKey, ...opts } = {}) => {\n    const isPro = !!apiKey\n    const endpoint = ENDPOINT[isPro ? 'PRO' : 'FREE']\n    const apiUrl = `${endpoint}?${stringify({\n      url: url,\n      ...mapRules(rules),\n      ...opts\n    })}`\n\n    const headers = isPro ? { 'x-api-key': apiKey } : {}\n    return [apiUrl, { headers }]\n  }\n\n  const mql = async (\n    targetUrl,\n    { cache = null, retry = 3, timeout = 25000, ...opts } = {}\n  ) => {\n    assertUrl(targetUrl)\n    const [url, { headers }] = apiUrl(targetUrl, opts)\n    return fetchFromApi(url, { cache, retry, timeout, headers, json: true })\n  }\n\n  mql.MicrolinkError = MicrolinkError\n  mql.apiUrl = apiUrl\n  mql.mapRules = mapRules\n  mql.version = VERSION\n\n  return mql\n}\n\nmodule.exports = factory\n","const MicrolinkError = require('whoops')('MicrolinkError')\nconst { encode: stringify } = require('qss')\nconst isUrlHttp = require('is-url-http')\nconst ky = require('ky-universal')\nconst flatten = require('flat')\n\nconst factory = require('./factory')\n\n// TODO: `cache` is destructuring because is not supported on browser side yet.\n// TODO: `json` because always is the output serialized.\nconst got = async (url, { json, headers, cache, ...opts }) => {\n  try {\n    const response = await ky(url, opts)\n    const body = await response.json()\n    const { headers, status: statusCode, statusText: statusMessage } = response\n    return { url: response.url, body, headers, statusCode, statusMessage }\n  } catch (err) {\n    err.body = err.response ? await err.response.json() : ''\n    err.statusCode = err.response.status\n    err.headers = err.response.headers\n    throw err\n  }\n}\n\nconst browser = factory({\n  MicrolinkError,\n  isUrlHttp,\n  stringify,\n  got,\n  flatten,\n  VERSION: '__VERSION__'\n})\n\nmodule.exports = browser\n"],"names":["mimicFn","to","from","prop","Reflect","ownKeys","Object","defineProperty","getOwnPropertyDescriptor","isFunction","obj","isString","composeErrorMessage","code","description","inherits","ctor","superCtor","super_","prototype","create","constructor","value","enumerable","writable","configurable","require$$0","error","props","assign","message","ErrorClass","classProps","ExtendError","errorProps","addErrorProps","stack","cleanStack","REGEX_CLASS_NAME","className","TypeError","test","Error","this","captureStackTrace","createErrorClass","errorClass","createError","name","createExtendError","RangeError","EvalError","SyntaxError","ReferenceError","URIError","toValue","mix","str","decodeURIComponent","pfx","k","i","tmp","Array","isArray","length","encodeURIComponent","out","arr","split","shift","concat","URL","global","window","REGEX_HTTP_PROTOCOL","exports","getGlobal","property","self","globalThis","document","Headers","Response","fetch","AbortController","isObject","supportsAbortController","deepMerge","sources","returnValue","source","key","entries","has","[object Object]","requestMethods","responseTypes","json","text","formData","arrayBuffer","blob","retryMethods","Set","retryStatusCodes","retryAfterStatusCodes","HTTPError","response","super","statusText","TimeoutError","delay","ms","Promise","resolve","setTimeout","timeout","promise","abortController","reject","then","catch","abort","normalizeRequestMethod","input","includes","toUpperCase","Ky","hooks","throwHttpErrors","searchParams","otherOptions","_retryCount","_options","method","credentials","retry","signal","addEventListener","prefixUrl","String","_input","startsWith","endsWith","url","baseURI","URLSearchParams","search","values","every","param","toString","_timeout","_hooks","beforeRequest","afterResponse","_throwHttpErrors","headers","body","set","JSON","stringify","fn","async","_fetch","hook","modifiedResponse","clone","ok","isRetriableMethod","toLowerCase","result","_retry","type","mimeType","status","retryAfter","get","after","Number","isNaN","Date","parse","now","BACKOFF_FACTOR","_calculateRetryDelay","createInstance","defaults","ky","options","extend","index","default","factory","isBuffer","flatten","target","opts","delimiter","maxDepth","output","step","object","prev","currentDepth","keys","forEach","isarray","safe","call","isbuffer","newKey","unflatten","overwrite","getkey","parsedKey","indexOf","sortedKeys","sort","keyA","keyB","key1","key2","recipient","undefined","isobject","ENDPOINT","FREE","PRO","ERRORS_CODE","INVALID_URL","FAILED","VERSION","MicrolinkError","isUrlHttp","got","mapRules","rules","flatRules","reduce","acc","apiUrl","apiKey","isPro","x-api-key","mql","targetUrl","cache","assertUrl","err","statusCode","fetchFromApi","version","encode","require$$1","statusMessage"],"mappings":"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"}